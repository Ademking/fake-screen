{"version":3,"sources":["src/wannacry/CountDowner.js","src/wannacry/index.js"],"names":["CountDowner","till","setSeconds","getSeconds","callbacks","stop","second","toFixStr","bind","interval","origin","Date","start","year","getFullYear","month","getMonth","date","getDate","hour","getHours","minute","getMinutes","map","s","join","percentage","timeDiff","getTime","diffDays","Math","floor","diffHours","diffMinutes","diffSeconds","e","setInterval","forEach","cb","clearInterval","str","push","Error","render","setTimeout","wannacry","pay","document","querySelector","payOn","payProgress","payment","lost","lostOn","lostProgress","check","decrypt","copy","now","payDate","lostDate","payCountDowner","innerHTML","formatLast","formatTill","on","style","height","progress","lostCountDowner","onclick","alert","addEventListener","setClipboardData","execCommand","event","preventDefault","clipboardData","setData","removeEventListener"],"mappings":"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","file":"wannacry.01b71242.map","sourceRoot":"..","sourcesContent":["class CountDowner {\r\n  constructor(till) {\r\n    till.setSeconds(till.getSeconds() + 1);\r\n    this.till = till;\r\n    this.callbacks = {\r\n      stop: [],\r\n      second: [],\r\n    };\r\n    this.toFixStr = this.toFixStr.bind(this);\r\n    this.interval = null;\r\n    this.origin = new Date();\r\n    this.start();\r\n  }\r\n  formatTill() {\r\n    const year = this.till.getFullYear();\r\n    const month = this.till.getMonth() + 1;\r\n    const date = this.till.getDate();\r\n    const hour = this.till.getHours();\r\n    const minute = this.till.getMinutes();\r\n    const second = this.till.getSeconds();\r\n    return (\r\n      [month, date, year].map(s => this.toFixStr(s)).join('/') +\r\n      ' ' +\r\n      [hour, minute, second].map(s => this.toFixStr(s)).join(':')\r\n    );\r\n  }\r\n  toFixStr(s) {\r\n    return (s < 10 ? '0' : '') + s;\r\n  }\r\n  progress() {\r\n    const percentage = this.timeDiff / (this.till.getTime() - this.origin);\r\n    return percentage < 0 ? 0 : percentage;\r\n  }\r\n  formatLast() {\r\n    const diffDays = Math.floor(this.timeDiff / (1000 * 3600 * 24));\r\n    const diffHours = Math.floor(this.timeDiff / (1000 * 3600));\r\n    const diffMinutes = Math.floor(this.timeDiff / (1000 * 60));\r\n    const diffSeconds = Math.floor(this.timeDiff / 1000);\r\n    return [\r\n      diffDays,\r\n      diffHours - diffDays * 24,\r\n      diffMinutes - diffHours * 60,\r\n      diffSeconds - diffMinutes * 60,\r\n    ]\r\n      .map(e => this.toFixStr(e))\r\n      .join(':');\r\n  }\r\n  start() {\r\n    this.timeDiff = this.till.getTime() - new Date().getTime();\r\n    this.interval = setInterval(() => {\r\n      this.timeDiff = this.till.getTime() - new Date().getTime();\r\n      if (this.timeDiff < 0) {\r\n        this.stop();\r\n      } else {\r\n        this.callbacks.second.forEach(cb => cb());\r\n      }\r\n    }, 1000);\r\n  }\r\n  stop() {\r\n    clearInterval(this.interval);\r\n    this.callbacks.stop.forEach(cb => cb());\r\n  }\r\n  on(str, cb) {\r\n    if (str in this.callbacks) {\r\n      this.callbacks[str].push(cb);\r\n    } else {\r\n      throw Error(`no ${str} type callback`);\r\n    }\r\n  }\r\n}\r\n\r\nexport default CountDowner;\r\n","import 'babel-polyfill';\r\nimport CountDowner from './CountDowner.js';\r\nimport './wannacry.scss';\r\nimport wannacry from './wannacry.pug';\r\n\r\nexport const render = () => {\r\n  setTimeout(start);\r\n  return wannacry;\r\n};\r\n\r\nfunction start() {\r\n  const pay = document.querySelector('#pay');\r\n  const payOn = document.querySelector('#pay-on');\r\n  const payProgress = document.querySelector('#pay-progress');\r\n  const payment = document.querySelector('#payment');\r\n  const lost = document.querySelector('#lost');\r\n  const lostOn = document.querySelector('#lost-on');\r\n  const lostProgress = document.querySelector('#lost-progress');\r\n  const check = document.querySelector('#check');\r\n  const decrypt = document.querySelector('#decrypt');\r\n  const copy = document.querySelector('#copy');\r\n\r\n  const now = new Date();\r\n  const payDate = new Date(\r\n    now.getFullYear(),\r\n    now.getMonth(),\r\n    now.getDate(),\r\n    now.getHours(),\r\n    now.getMinutes() + 10,\r\n    now.getSeconds(),\r\n  );\r\n  const lostDate = new Date(\r\n    now.getFullYear(),\r\n    now.getMonth(),\r\n    now.getDate(),\r\n    now.getHours() + 1,\r\n    now.getMinutes(),\r\n    now.getSeconds(),\r\n  );\r\n  const payCountDowner = new CountDowner(payDate);\r\n  pay.innerHTML = payCountDowner.formatLast();\r\n  payOn.innerHTML = payCountDowner.formatTill();\r\n  payCountDowner.on('second', () => {\r\n    payProgress.style.height = `${(1 - payCountDowner.progress()) * 100}%`;\r\n    pay.innerHTML = payCountDowner.formatLast();\r\n  });\r\n  payCountDowner.on('stop', () => {\r\n    payProgress.style.height = `${(1 - payCountDowner.progress()) * 100}%`;\r\n    payment.innerHTML = '$600';\r\n  });\r\n  const lostCountDowner = new CountDowner(lostDate);\r\n  lost.innerHTML = lostCountDowner.formatLast();\r\n  lostOn.innerHTML = lostCountDowner.formatTill();\r\n  lostCountDowner.on('second', () => {\r\n    lostProgress.style.height = `${(1 - lostCountDowner.progress()) * 100}%`;\r\n    lost.innerHTML = lostCountDowner.formatLast();\r\n  });\r\n  lostCountDowner.on('stop', () => {\r\n    lostProgress.style.height = `${(1 - lostCountDowner.progress()) * 100}%`;\r\n  });\r\n\r\n  check.onclick = () => {\r\n    alert(\r\n      `You didn't pay!\\nYour files will be lost on ${lostCountDowner.formatTill()}!`,\r\n    );\r\n  };\r\n  decrypt.onclick = () => {\r\n    alert(`Decrypt failed!\\nPlease click <Contact Us>!`);\r\n  };\r\n  copy.onclick = function(e) {\r\n    document.addEventListener('copy', setClipboardData);\r\n    document.execCommand('copy');\r\n    alert('Content copied Successfully!');\r\n  };\r\n}\r\n\r\nfunction setClipboardData(event) {\r\n  event.preventDefault();\r\n  if (event.clipboardData) {\r\n    event.clipboardData.setData(\r\n      'text/plain',\r\n      'Money! Give me Money! ლ(́◉◞౪◟◉‵ლ)',\r\n    );\r\n  }\r\n  document.removeEventListener('copy', setClipboardData);\r\n}\r\n"]}