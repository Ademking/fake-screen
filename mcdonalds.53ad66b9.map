{"version":3,"sources":["src/mcdonalds/index.js"],"names":["render","setTimeout","start","mcdonalds","wrapper","document","querySelector","couponPage","coupons","header","hamburgerIcon","nextHamburgerIcon","title","nextTitle","how","nextHow","hamburger","exp","couponFooter","couponFooterText","addEventListener","handleExchange","e","preventDefault","target","closest","Array","from","classList","includes","openCouponPage","console","log","textContent","setExp","onclick","confirm","onExchange","date","Date","getFullYear","getMonth","getDate","style","height","innerHTML","clock","opacity","transform","closeCouponPage","removeEventListener"],"mappings":"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","file":"mcdonalds.53ad66b9.map","sourceRoot":"..","sourcesContent":["import mcdonalds from './mcdonalds.pug';\r\nimport './mcdonalds.scss';\r\nimport clock from './clock.svg';\r\nimport CountDowner from '../assets/CountDowner.js';\r\n\r\nexport const render = () => {\r\n  setTimeout(start);\r\n  return mcdonalds;\r\n};\r\n\r\nfunction start() {\r\n  const wrapper = document.querySelector('.mcdonalds-wrapper');\r\n  const couponPage = wrapper.querySelector('.coupon-page');\r\n  const coupons = wrapper.querySelector('.coupons');\r\n  const header = wrapper.querySelector('header');\r\n  const hamburgerIcon = header.querySelector('.hamburger img');\r\n  const nextHamburgerIcon = header.querySelector('.next-hamburger');\r\n  const title = header.querySelector('.title-text');\r\n  const nextTitle = header.querySelector('.next-title-text');\r\n  const how = header.querySelector('.how-text');\r\n  const nextHow = header.querySelector('.next-how-text');\r\n  const hamburger = header.querySelector('.hamburger');\r\n  const exp = wrapper.querySelector('.exp');\r\n  const couponFooter = couponPage.querySelector('footer');\r\n  const couponFooterText = couponFooter.querySelector('.exchange');\r\n\r\n  coupons.addEventListener('click', handleExchange);\r\n  function handleExchange(e) {\r\n    e.preventDefault();\r\n    const target = e.target.closest('.status');\r\n    if (target && Array.from(target.classList).includes('status')) {\r\n      openCouponPage();\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n  console.log(couponFooter);\r\n  exp.textContent = setExp();\r\n  couponFooter.onclick = () => {\r\n    confirm('確認兌換優惠');\r\n    onExchange();\r\n  };\r\n  function setExp() {\r\n    const date = new Date();\r\n    return `期限：${date.getFullYear()} 年 ${date.getMonth() +\r\n      1} 月 ${date.getDate() + 3} 日`;\r\n  }\r\n  function onExchange() {\r\n    couponFooter.style.height = '90px';\r\n    couponFooterText.innerHTML = `<img src=${clock} alt=\"clock\"/>優惠倒數<span id=\"exchanged-exp\">1:59</span>`;\r\n  }\r\n  function openCouponPage() {\r\n    hamburgerIcon.style.opacity = '0';\r\n    nextHamburgerIcon.style.opacity = '100';\r\n    title.style.transform = `translateX(-200%)`;\r\n    title.style.opacity = '0';\r\n    nextTitle.style.transform = `translateX(0%)`;\r\n    nextTitle.style.opacity = '100';\r\n    how.style.opacity = '0';\r\n    nextHow.style.opacity = '100';\r\n    couponPage.style.transform = 'translateX(0%)';\r\n    hamburger.addEventListener('click', closeCouponPage);\r\n  }\r\n  function closeCouponPage() {\r\n    couponPage.style.transform = 'translateX(100%)';\r\n    hamburgerIcon.style.opacity = '100';\r\n    nextHamburgerIcon.style.opacity = '0';\r\n    title.style.transform = `translateX(0%)`;\r\n    title.style.opacity = '100';\r\n    nextTitle.style.transform = `translateX(200%)`;\r\n    nextTitle.style.opacity = '0';\r\n    how.style.opacity = '100';\r\n    nextHow.style.opacity = '0';\r\n    hamburger.removeEventListener('click', closeCouponPage);\r\n  }\r\n}\r\n"]}