{"version":3,"sources":["src/win10-update/index.js"],"names":["render","startProgress","update","getProgress","progress","progressValue","document","querySelector","sleep","Math","random","innerText","ms","Promise","res","setTimeout","findProgress"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;AAEO,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1BC,EAAAA,aAAa;AACb,SAAOC,mBAAP;AACD,CAHM;;;;SAIQD;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACyBE,WAAW,EADpC;;AAAA;AACQC,YAAAA,QADR;AAEMC,YAAAA,aAFN,GAEsB,CAFtB;;AAAA;AAAA,iBAGSC,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CAHT;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIUC,KAAK,CAACC,IAAI,CAACC,MAAL,KAAgB,IAAhB,GAAuB,IAAxB,CAJf;;AAAA;AAKIN,YAAAA,QAAQ,CAACO,SAAT,GAAqBN,aAAa,EAAlC;AALJ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AASA,SAASG,KAAT,CAAeI,EAAf,EAAmB;AACjB,SAAO,IAAIC,OAAJ,CAAY,UAAAC,GAAG;AAAA,WAAIC,UAAU,CAACD,GAAD,EAAMF,EAAN,CAAd;AAAA,GAAf,CAAP;AACD;;SAEcT;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACMC,YAAAA,QADN,GACiB,IADjB;;AAAA;AAAA,gBAEUA,QAFV;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAGqBY,YAAY,EAHjC;;AAAA;AAGIZ,YAAAA,QAHJ;AAAA;AAAA;;AAAA;AAAA,8CAKSA,QALT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAOA,SAASY,YAAT,GAAwB;AACtB,SAAO,IAAIH,OAAJ,CAAY,UAAAC,GAAG,EAAI;AACxBC,IAAAA,UAAU,CAAC,YAAM;AACf,UAAIX,QAAQ,GAAGE,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAf;AACAO,MAAAA,GAAG,CAACV,QAAD,CAAH;AACD,KAHS,CAAV;AAID,GALM,CAAP;AAMD","file":"win10-update.61b83e2c.map","sourceRoot":"..","sourcesContent":["import update from './update-only.pug';\r\nimport '../win10/update.scss';\r\n\r\nexport const render = () => {\r\n  startProgress();\r\n  return update;\r\n};\r\nasync function startProgress() {\r\n  const progress = await getProgress();\r\n  let progressValue = 1;\r\n  while (document.querySelector('.win10-update-wrapper')) {\r\n    await sleep(Math.random() * 5000 + 5000);\r\n    progress.innerText = progressValue++;\r\n  }\r\n}\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(res => setTimeout(res, ms));\r\n}\r\n\r\nasync function getProgress() {\r\n  let progress = null;\r\n  while (!progress) {\r\n    progress = await findProgress();\r\n  }\r\n  return progress;\r\n}\r\nfunction findProgress() {\r\n  return new Promise(res => {\r\n    setTimeout(() => {\r\n      let progress = document.querySelector('#progress');\r\n      res(progress);\r\n    });\r\n  });\r\n}\r\n"]}