{"version":3,"sources":["src/win10-update/index.js"],"names":["render","startProgress","update","getProgress","progress","progressValue","document","querySelector","sleep","Math","random","innerText","ms","Promise","res","setTimeout","findProgress"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;AAEO,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1BC,EAAAA,aAAa;AACb,SAAOC,mBAAP;AACD,CAHM;;;;SAIQD;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACyBE,WAAW,EADpC;;AAAA;AACQC,YAAAA,QADR;AAEMC,YAAAA,aAFN,GAEsB,CAFtB;;AAAA;AAAA,iBAGSC,QAAQ,CAACC,aAAT,CAAuB,uBAAvB,CAHT;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIUC,KAAK,CAACC,IAAI,CAACC,MAAL,KAAgB,IAAhB,GAAuB,IAAxB,CAJf;;AAAA;AAKIN,YAAAA,QAAQ,CAACO,SAAT,GAAqBN,aAAa,EAAlC;AALJ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AASA,SAASG,KAAT,CAAeI,EAAf,EAAmB;AACjB,SAAO,IAAIC,OAAJ,CAAY,UAAAC,GAAG;AAAA,WAAIC,UAAU,CAACD,GAAD,EAAMF,EAAN,CAAd;AAAA,GAAf,CAAP;AACD;;SAEcT;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACMC,YAAAA,QADN,GACiB,IADjB;;AAAA;AAAA,gBAEUA,QAFV;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAGqBY,YAAY,EAHjC;;AAAA;AAGIZ,YAAAA,QAHJ;AAAA;AAAA;;AAAA;AAAA,8CAKSA,QALT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAOA,SAASY,YAAT,GAAwB;AACtB,SAAO,IAAIH,OAAJ,CAAY,UAAAC,GAAG,EAAI;AACxBC,IAAAA,UAAU,CAAC,YAAM;AACf,UAAIX,QAAQ,GAAGE,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAf;AACAO,MAAAA,GAAG,CAACV,QAAD,CAAH;AACD,KAHS,CAAV;AAID,GALM,CAAP;AAMD","file":"win10-update.61b83e2c.map","sourceRoot":"..","sourcesContent":["import update from './update-only.pug';\nimport '../win10/update.scss';\n\nexport const render = () => {\n  startProgress();\n  return update;\n};\nasync function startProgress() {\n  const progress = await getProgress();\n  let progressValue = 1;\n  while (document.querySelector('.win10-update-wrapper')) {\n    await sleep(Math.random() * 5000 + 5000);\n    progress.innerText = progressValue++;\n  }\n}\n\nfunction sleep(ms) {\n  return new Promise(res => setTimeout(res, ms));\n}\n\nasync function getProgress() {\n  let progress = null;\n  while (!progress) {\n    progress = await findProgress();\n  }\n  return progress;\n}\nfunction findProgress() {\n  return new Promise(res => {\n    setTimeout(() => {\n      let progress = document.querySelector('#progress');\n      res(progress);\n    });\n  });\n}\n"]}