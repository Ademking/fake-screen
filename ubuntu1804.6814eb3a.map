{"version":3,"sources":["src/ubuntu1804/index.js"],"names":["render","setTimeout","start","ubuntu1804","wrapper","document","querySelector","addEventListener","mousemove","timeModal","timeInterval","isIdle","setTime","idleTimer","openTimeModal","clearTimeout","removeEventListener","closeTimeModal","setInterval","console","log","time","date","now","Date","textContent","formatDate","getDayStr","getDay","getMonthStr","getMonth","getDate","clearInterval","d","split","m","h","getHours","getMinutes"],"mappings":"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","file":"ubuntu1804.6814eb3a.map","sourceRoot":"..","sourcesContent":["import ubuntu1804 from \"./ubuntu1804.pug\";\r\nimport \"./ubuntu1804.scss\";\r\n\r\nexport const render = () => {\r\n  setTimeout(start);\r\n  return ubuntu1804;\r\n};\r\n\r\nfunction start() {\r\n  const wrapper = document.querySelector(\".ubuntu1804-wrapper\");\r\n  wrapper.addEventListener(\"mousemove\", mousemove);\r\n  const timeModal = wrapper.querySelector(\".ubuntu1804-time-modal\");\r\n\r\n  let timeInterval = null;\r\n  let isIdle = false;\r\n  setTime();\r\n  let idleTimer = setTimeout(function() {\r\n    isIdle = true;\r\n    openTimeModal();\r\n  }, 3000);\r\n  function mousemove() {\r\n    clearTimeout(idleTimer);\r\n    if (!document.querySelector(\".ubuntu1804-wrapper\")) {\r\n      wrapper.removeEventListener(\"mousemove\", mousemove);\r\n      return;\r\n    }\r\n    idleTimer = setTimeout(function() {\r\n      isIdle = true;\r\n      openTimeModal();\r\n    }, 3000);\r\n    if (isIdle) {\r\n      isIdle = false;\r\n      closeTimeModal();\r\n    }\r\n  }\r\n  timeInterval = setInterval(setTime, 1000);\r\n  function openTimeModal() {\r\n    console.log(\"should open modal\");\r\n  }\r\n  function closeTimeModal() {\r\n    console.log(\"should close modal\");\r\n  }\r\n  function setTime() {\r\n    const time = timeModal.querySelector(\".time\");\r\n    const date = timeModal.querySelector(\".date\");\r\n    if (time && date) {\r\n      const now = new Date();\r\n      time.textContent = formatDate(now);\r\n      date.textContent = `${getDayStr(now.getDay())}, ${getMonthStr(\r\n        now.getMonth()\r\n      )} ${now.getDate()}`;\r\n    } else {\r\n      clearInterval(timeInterval);\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDayStr(d) {\r\n  return \"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday\".split(\",\")[\r\n    d\r\n  ];\r\n}\r\n\r\nfunction getMonthStr(m) {\r\n  return \"January,February,March,April,May,June,July,August,Septimber,October,November,Devember\".split(\r\n    \",\"\r\n  )[m];\r\n}\r\n\r\nfunction formatDate(d) {\r\n  let h = d.getHours();\r\n  let m = d.getMinutes();\r\n  h = h < 10 ? \"0\" : \"\" + h;\r\n  m = m < 10 ? \"0\" : \"\" + m;\r\n  return `${h}:${m}`;\r\n}\r\n"]}