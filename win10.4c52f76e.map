{"version":3,"sources":["src/win10/index.js"],"names":["render","setTimeout","start","win10","crash","next","setCrash","v","console","log","setNext","second","originHTML","document","querySelector","innerHTML","Math","floor","random","progress","progressValue","sleep","innerText","wrapper","blue","ms","Promise","res"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAEO,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1BC,EAAAA,UAAU,CAACC,KAAD,CAAV;AACA,SAAOC,YAAP;AACD,CAHM;;;AAIP,IAAIC,KAAJ;AACA,IAAIC,IAAJ;;AAEA,SAASC,QAAT,CAAkBC,CAAlB,EAAqB;AACnBH,EAAAA,KAAK,GAAGG,CAAR;AACAC,EAAAA,OAAO,CAACC,GAAR,2CAA+CF,CAA/C;AACD;;AACD,SAASG,OAAT,CAAiBC,MAAjB,EAAyB;AACvBN,EAAAA,IAAI,GAAGM,MAAP;AACAH,EAAAA,OAAO,CAACC,GAAR,8BAAkCJ,IAAlC;AACD;;SACcH;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACMU,YAAAA,UADN,GACmBC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,SAD5D;AAEET,YAAAA,QAAQ,CAACU,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,IAAiC,EAAlC,CAAR;AACAR,YAAAA,OAAO,CAAC,IAAD,CAAP;AACMS,YAAAA,QAJR,GAImBN,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAJnB;AAKMM,YAAAA,aALN,GAKsB,CALtB;;AAAA;AAAA,kBAMSA,aAAa,IAAIhB,KAN1B;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAOUiB,KAAK,CAACL,IAAI,CAACE,MAAL,KAAgB,IAAhB,GAAuBb,IAAxB,CAPf;;AAAA;AAQIc,YAAAA,QAAQ,CAACG,SAAT,GAAqBF,aAAa,EAAlC;AARJ;AAAA;;AAAA;AAUMG,YAAAA,OAVN,GAUgBV,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAVhB;;AAAA,iBAWMS,OAXN;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAYuB,0CAAO,YAAP,EAZvB;;AAAA;AAYUC,YAAAA,IAZV;AAaID,YAAAA,OAAO,CAACR,SAAR,GAAoBS,IAApB;AAbJ;AAAA,mBAcUH,KAAK,CAAC,KAAD,CAdf;;AAAA;AAeIE,YAAAA,OAAO,CAACR,SAAR,GAAoBH,UAApB;AACAV,YAAAA,KAAK;;AAhBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAoBA,SAASmB,KAAT,CAAeI,EAAf,EAAmB;AACjB,SAAO,IAAIC,OAAJ,CAAY,UAAAC,GAAG;AAAA,WAAI1B,UAAU,CAAC0B,GAAD,EAAMF,EAAN,CAAd;AAAA,GAAf,CAAP;AACD","file":"win10.4c52f76e.map","sourceRoot":"..","sourcesContent":["import win10 from './win10.pug';\r\nimport './update.scss';\r\nimport './blue.scss';\r\n\r\nexport const render = () => {\r\n  setTimeout(start)\r\n  return win10;\r\n};\r\nlet crash;\r\nlet next;\r\n\r\nfunction setCrash(v) {\r\n  crash = v;\r\n  console.log(`Blue screen when progress reach ${v}%`);\r\n}\r\nfunction setNext(second) {\r\n  next = second;\r\n  console.log(`Add progress every ${next} milliseconds`);\r\n}\r\nasync function start() {\r\n  let originHTML = document.querySelector('.win10-wrapper').innerHTML\r\n  setCrash(Math.floor(Math.random() * 40) + 61);\r\n  setNext(1000);\r\n  const progress = document.querySelector('#progress');\r\n  let progressValue = 1;\r\n  while (progressValue <= crash) {\r\n    await sleep(Math.random() * 1000 + next);\r\n    progress.innerText = progressValue++;\r\n  }\r\n  let wrapper = document.querySelector('.win10-wrapper')\r\n  if (wrapper) {\r\n    const blue = await import('./blue.pug');\r\n    wrapper.innerHTML = blue;\r\n    await sleep(10000)  \r\n    wrapper.innerHTML = originHTML\r\n    start()\r\n  }\r\n}\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(res => setTimeout(res, ms));\r\n}\r\n"]}