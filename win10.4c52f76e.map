{"version":3,"sources":["src/win10/index.js"],"names":["render","setTimeout","start","win10","crash","next","setCrash","v","console","log","setNext","second","originHTML","document","querySelector","innerHTML","Math","floor","random","progress","progressValue","sleep","innerText","wrapper","blue","ms","Promise","res"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;AAEO,IAAMA,MAAM,GAAG,SAATA,MAAS,GAAM;AAC1BC,EAAAA,UAAU,CAACC,KAAD,CAAV;AACA,SAAOC,YAAP;AACD,CAHM;;;AAIP,IAAIC,KAAJ;AACA,IAAIC,IAAJ;;AAEA,SAASC,QAAT,CAAkBC,CAAlB,EAAqB;AACnBH,EAAAA,KAAK,GAAGG,CAAR;AACAC,EAAAA,OAAO,CAACC,GAAR,2CAA+CF,CAA/C;AACD;;AACD,SAASG,OAAT,CAAiBC,MAAjB,EAAyB;AACvBN,EAAAA,IAAI,GAAGM,MAAP;AACAH,EAAAA,OAAO,CAACC,GAAR,8BAAkCJ,IAAlC;AACD;;SACcH;;;;;;;0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACMU,YAAAA,UADN,GACmBC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,EAAyCC,SAD5D;AAEET,YAAAA,QAAQ,CAACU,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,IAAiC,EAAlC,CAAR;AACAR,YAAAA,OAAO,CAAC,IAAD,CAAP;AACMS,YAAAA,QAJR,GAImBN,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAJnB;AAKMM,YAAAA,aALN,GAKsB,CALtB;;AAAA;AAAA,kBAMSA,aAAa,IAAIhB,KAN1B;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAOUiB,KAAK,CAACL,IAAI,CAACE,MAAL,KAAgB,IAAhB,GAAuBb,IAAxB,CAPf;;AAAA;AAQIc,YAAAA,QAAQ,CAACG,SAAT,GAAqBF,aAAa,EAAlC;AARJ;AAAA;;AAAA;AAUMG,YAAAA,OAVN,GAUgBV,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAVhB;;AAAA,iBAWMS,OAXN;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAYuB,0CAAO,YAAP,EAZvB;;AAAA;AAYUC,YAAAA,IAZV;AAaID,YAAAA,OAAO,CAACR,SAAR,GAAoBS,IAApB;AAbJ;AAAA,mBAcUH,KAAK,CAAC,KAAD,CAdf;;AAAA;AAeIE,YAAAA,OAAO,CAACR,SAAR,GAAoBH,UAApB;AACAV,YAAAA,KAAK;;AAhBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAoBA,SAASmB,KAAT,CAAeI,EAAf,EAAmB;AACjB,SAAO,IAAIC,OAAJ,CAAY,UAAAC,GAAG;AAAA,WAAI1B,UAAU,CAAC0B,GAAD,EAAMF,EAAN,CAAd;AAAA,GAAf,CAAP;AACD","file":"win10.4c52f76e.map","sourceRoot":"..","sourcesContent":["import win10 from './win10.pug';\nimport './update.scss';\nimport './blue.scss';\n\nexport const render = () => {\n  setTimeout(start)\n  return win10;\n};\nlet crash;\nlet next;\n\nfunction setCrash(v) {\n  crash = v;\n  console.log(`Blue screen when progress reach ${v}%`);\n}\nfunction setNext(second) {\n  next = second;\n  console.log(`Add progress every ${next} milliseconds`);\n}\nasync function start() {\n  let originHTML = document.querySelector('.win10-wrapper').innerHTML\n  setCrash(Math.floor(Math.random() * 40) + 61);\n  setNext(1000);\n  const progress = document.querySelector('#progress');\n  let progressValue = 1;\n  while (progressValue <= crash) {\n    await sleep(Math.random() * 1000 + next);\n    progress.innerText = progressValue++;\n  }\n  let wrapper = document.querySelector('.win10-wrapper')\n  if (wrapper) {\n    const blue = await import('./blue.pug');\n    wrapper.innerHTML = blue;\n    await sleep(10000)  \n    wrapper.innerHTML = originHTML\n    start()\n  }\n}\n\nfunction sleep(ms) {\n  return new Promise(res => setTimeout(res, ms));\n}\n"]}