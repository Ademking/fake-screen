{"version":3,"sources":["src/mcdonalds/index.js"],"names":["render","mcdonalds","setTimeout","start","wrapper","date","document","querySelector","couponPage","coupons","header","hamburgerIcon","nextHamburgerIcon","title","nextTitle","how","nextHow","hamburger","exp","couponFooter","couponFooterText","closeCouponPage","style","transform","opacity","removeEventListener","addEventListener","handleExchange","e","preventDefault","target","closest","Array","from","classList","includes","console","log","textContent","Date","getFullYear","getMonth","getDate","onclick","confirm","height","innerHTML","clock"],"mappings":";;;;;AA2EC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EA3ED,IAAA,EAAA,EAAA,QAAA,oBACA,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,gBACA,EAAA,EAAA,QAAA,6BAwEC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAtEM,IAAMA,EAAS,WAEbC,OADPC,WAAWC,GACJF,EAAP,SAGF,SAASE,IACDC,IAgCEC,EAhCFD,EAAUE,SAASC,cAAc,sBACjCC,EAAaJ,EAAQG,cAAc,gBACnCE,EAAUL,EAAQG,cAAc,YAChCG,EAASN,EAAQG,cAAc,UAC/BI,EAAgBD,EAAOH,cAAc,kBACrCK,EAAoBF,EAAOH,cAAc,mBACzCM,EAAQH,EAAOH,cAAc,eAC7BO,EAAYJ,EAAOH,cAAc,oBACjCQ,EAAML,EAAOH,cAAc,aAC3BS,EAAUN,EAAOH,cAAc,kBAC/BU,EAAYP,EAAOH,cAAc,cACjCW,EAAMd,EAAQG,cAAc,QAC5BY,EAAeX,EAAWD,cAAc,UACxCa,EAAmBD,EAAaZ,cAAc,aAuC3Cc,SAAAA,IACPb,EAAWc,MAAMC,UAAY,mBAC7BZ,EAAcW,MAAME,QAAU,MAC9BZ,EAAkBU,MAAME,QAAU,IAClCX,EAAMS,MAAMC,UAAZ,iBACAV,EAAMS,MAAME,QAAU,MACtBV,EAAUQ,MAAMC,UAAhB,mBACAT,EAAUQ,MAAME,QAAU,IAC1BT,EAAIO,MAAME,QAAU,MACpBR,EAAQM,MAAME,QAAU,IACxBP,EAAUQ,oBAAoB,QAASJ,GA/CzCZ,EAAQiB,iBAAiB,QAChBC,SAAeC,GACtBA,EAAEC,iBACIC,IAAAA,EAASF,EAAEE,OAAOC,QAAQ,WAC5BD,IAAAA,IAAUE,MAAMC,KAAKH,EAAOI,WAAWC,SAAS,UAGlD,OAmBFxB,EAAcW,MAAME,QAAU,IAC9BZ,EAAkBU,MAAME,QAAU,MAClCX,EAAMS,MAAMC,UAAZ,oBACAV,EAAMS,MAAME,QAAU,IACtBV,EAAUQ,MAAMC,UAAhB,iBACAT,EAAUQ,MAAME,QAAU,MAC1BT,EAAIO,MAAME,QAAU,IACpBR,EAAQM,MAAME,QAAU,MACxBhB,EAAWc,MAAMC,UAAY,iBAC7BN,EAAUS,iBAAiB,QAASL,KAzBtCe,QAAQC,IAAIlB,GACZD,EAAIoB,aAMIjC,EAAO,IAAIkC,KACJlC,MAAAA,OAAAA,EAAKmC,cAAmBnC,OAAAA,OAAAA,EAAKoC,WACxC,EAAOpC,OAAAA,OAAAA,EAAKqC,UAAY,EAD1B,OANFvB,EAAawB,QAAU,WACrBC,QAAQ,UASRzB,EAAaG,MAAMuB,OAAS,OAC5BzB,EAAiB0B,UAAwBC,YAAAA,OAAAA,EAAzC,QAAA,2DA0BH,QAAA,OAAA","file":"mcdonalds.e2271067.map","sourceRoot":"..","sourcesContent":["import mcdonalds from './mcdonalds.pug';\r\nimport './mcdonalds.scss';\r\nimport clock from './clock.svg';\r\nimport CountDowner from '../assets/CountDowner.js';\r\n\r\nexport const render = () => {\r\n  setTimeout(start);\r\n  return mcdonalds;\r\n};\r\n\r\nfunction start() {\r\n  const wrapper = document.querySelector('.mcdonalds-wrapper');\r\n  const couponPage = wrapper.querySelector('.coupon-page');\r\n  const coupons = wrapper.querySelector('.coupons');\r\n  const header = wrapper.querySelector('header');\r\n  const hamburgerIcon = header.querySelector('.hamburger img');\r\n  const nextHamburgerIcon = header.querySelector('.next-hamburger');\r\n  const title = header.querySelector('.title-text');\r\n  const nextTitle = header.querySelector('.next-title-text');\r\n  const how = header.querySelector('.how-text');\r\n  const nextHow = header.querySelector('.next-how-text');\r\n  const hamburger = header.querySelector('.hamburger');\r\n  const exp = wrapper.querySelector('.exp');\r\n  const couponFooter = couponPage.querySelector('footer');\r\n  const couponFooterText = couponFooter.querySelector('.exchange');\r\n\r\n  coupons.addEventListener('click', handleExchange);\r\n  function handleExchange(e) {\r\n    e.preventDefault();\r\n    const target = e.target.closest('.status');\r\n    if (target && Array.from(target.classList).includes('status')) {\r\n      openCouponPage();\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n  console.log(couponFooter);\r\n  exp.textContent = setExp();\r\n  couponFooter.onclick = () => {\r\n    confirm('確認兌換優惠');\r\n    onExchange();\r\n  };\r\n  function setExp() {\r\n    const date = new Date();\r\n    return `期限：${date.getFullYear()} 年 ${date.getMonth() +\r\n      1} 月 ${date.getDate() + 3} 日`;\r\n  }\r\n  function onExchange() {\r\n    couponFooter.style.height = '90px';\r\n    couponFooterText.innerHTML = `<img src=${clock} alt=\"clock\"/>優惠倒數<span id=\"exchanged-exp\">1:59</span>`;\r\n  }\r\n  function openCouponPage() {\r\n    hamburgerIcon.style.opacity = '0';\r\n    nextHamburgerIcon.style.opacity = '100';\r\n    title.style.transform = `translateX(-200%)`;\r\n    title.style.opacity = '0';\r\n    nextTitle.style.transform = `translateX(0%)`;\r\n    nextTitle.style.opacity = '100';\r\n    how.style.opacity = '0';\r\n    nextHow.style.opacity = '100';\r\n    couponPage.style.transform = 'translateX(0%)';\r\n    hamburger.addEventListener('click', closeCouponPage);\r\n  }\r\n  function closeCouponPage() {\r\n    couponPage.style.transform = 'translateX(100%)';\r\n    hamburgerIcon.style.opacity = '100';\r\n    nextHamburgerIcon.style.opacity = '0';\r\n    title.style.transform = `translateX(0%)`;\r\n    title.style.opacity = '100';\r\n    nextTitle.style.transform = `translateX(200%)`;\r\n    nextTitle.style.opacity = '0';\r\n    how.style.opacity = '100';\r\n    nextHow.style.opacity = '0';\r\n    hamburger.removeEventListener('click', closeCouponPage);\r\n  }\r\n}\r\n"]}