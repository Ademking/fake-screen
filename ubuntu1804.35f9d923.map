{"version":3,"sources":["src/ubuntu1804/index.js"],"names":["render","ubuntu1804","setTimeout","start","wrapper","document","querySelector","addEventListener","mousemove","clearTimeout","idleTimer","removeEventListener","isIdle","openTimeModal","console","log","timeModal","timeInterval","setTime","time","date","now","Date","textContent","formatDate","getDayStr","getDay","getMonthStr","getMonth","getDate","clearInterval","setInterval","d","split","m","h","getHours","getMinutes"],"mappings":";;;AA2EC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,EA3ED,IAAA,EAAA,EAAA,QAAA,qBA2EC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1ED,QAAA,qBAEO,IAAMA,EAAS,WAEbC,OADPC,WAAWC,GACJF,EAAP,SAGF,SAASE,IACDC,IAAAA,EAAUC,SAASC,cAAc,uBACvCF,EAAQG,iBAAiB,YAUhBC,SAAAA,IACPC,aAAaC,GACT,IAACL,SAASC,cAAc,uBAE1B,YADAF,EAAQO,oBAAoB,YAAaH,GAG3CE,EAAYR,WAAW,WACrBU,GAAS,EACTC,KACC,KACCD,IACFA,GAAS,EASXE,QAAQC,IAAI,yBA7BRC,IAAAA,EAAYZ,EAAQE,cAAc,0BAEpCW,EAAe,KACfL,GAAS,EACbM,IACIR,IAAAA,EAAYR,WAAW,WACzBU,GAAS,EACTC,KACC,KAiBMA,SAAAA,IACPC,QAAQC,IAAI,qBAKLG,SAAAA,IACDC,IAAAA,EAAOH,EAAUV,cAAc,SAC/Bc,EAAOJ,EAAUV,cAAc,SACjCa,GAAAA,GAAQC,EAAM,CACVC,IAAAA,EAAM,IAAIC,KAChBH,EAAKI,YAAcC,EAAWH,GAC9BD,EAAKG,YAAiBE,GAAAA,OAAAA,EAAUJ,EAAIK,UAAcC,MAAAA,OAAAA,EAChDN,EAAIO,YACDP,KAAAA,OAAAA,EAAIQ,gBAETC,cAAcb,GAjBlBA,EAAec,YAAYb,EAAS,KAsBtC,SAASO,EAAUO,GACV,MAAA,2DAA2DC,MAAM,KACtED,GAIJ,SAASL,EAAYO,GACZ,MAAA,wFAAwFD,MAC7F,KACAC,GAGJ,SAASV,EAAWQ,GACdG,IAAAA,EAAIH,EAAEI,WACNF,EAAIF,EAAEK,aAGAF,OADVD,EAAIA,EAAI,GAAK,IAAM,GAAKA,EACdC,GAAAA,OAFVA,EAAIA,EAAI,GAAK,IAAM,GAAKA,EAETD,KAAAA,OAAAA,GAChB,QAAA,OAAA","file":"ubuntu1804.35f9d923.map","sourceRoot":"..","sourcesContent":["import ubuntu1804 from \"./ubuntu1804.pug\";\r\nimport \"./ubuntu1804.scss\";\r\n\r\nexport const render = () => {\r\n  setTimeout(start);\r\n  return ubuntu1804;\r\n};\r\n\r\nfunction start() {\r\n  const wrapper = document.querySelector(\".ubuntu1804-wrapper\");\r\n  wrapper.addEventListener(\"mousemove\", mousemove);\r\n  const timeModal = wrapper.querySelector(\".ubuntu1804-time-modal\");\r\n\r\n  let timeInterval = null;\r\n  let isIdle = false;\r\n  setTime();\r\n  let idleTimer = setTimeout(function() {\r\n    isIdle = true;\r\n    openTimeModal();\r\n  }, 3000);\r\n  function mousemove() {\r\n    clearTimeout(idleTimer);\r\n    if (!document.querySelector(\".ubuntu1804-wrapper\")) {\r\n      wrapper.removeEventListener(\"mousemove\", mousemove);\r\n      return;\r\n    }\r\n    idleTimer = setTimeout(function() {\r\n      isIdle = true;\r\n      openTimeModal();\r\n    }, 3000);\r\n    if (isIdle) {\r\n      isIdle = false;\r\n      closeTimeModal();\r\n    }\r\n  }\r\n  timeInterval = setInterval(setTime, 1000);\r\n  function openTimeModal() {\r\n    console.log(\"should open modal\");\r\n  }\r\n  function closeTimeModal() {\r\n    console.log(\"should close modal\");\r\n  }\r\n  function setTime() {\r\n    const time = timeModal.querySelector(\".time\");\r\n    const date = timeModal.querySelector(\".date\");\r\n    if (time && date) {\r\n      const now = new Date();\r\n      time.textContent = formatDate(now);\r\n      date.textContent = `${getDayStr(now.getDay())}, ${getMonthStr(\r\n        now.getMonth()\r\n      )} ${now.getDate()}`;\r\n    } else {\r\n      clearInterval(timeInterval);\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDayStr(d) {\r\n  return \"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday\".split(\",\")[\r\n    d\r\n  ];\r\n}\r\n\r\nfunction getMonthStr(m) {\r\n  return \"January,February,March,April,May,June,July,August,Septimber,October,November,Devember\".split(\r\n    \",\"\r\n  )[m];\r\n}\r\n\r\nfunction formatDate(d) {\r\n  let h = d.getHours();\r\n  let m = d.getMinutes();\r\n  h = h < 10 ? \"0\" : \"\" + h;\r\n  m = m < 10 ? \"0\" : \"\" + m;\r\n  return `${h}:${m}`;\r\n}\r\n"]}